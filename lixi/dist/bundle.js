(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===t(i)?i:String(i)),r)}var i}function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}var r=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)}(s,Phaser.Scene);var i,a,c,u,f=(c=s,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var e,n=o(c);if(u){var r=o(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,e)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),f.call(this,"Preload")}return i=s,(a=[{key:"editorPreload",value:function(){this.load.pack("asset-pack","assets/asset-pack.json")}},{key:"editorCreate",value:function(){var t=this.add.image(505.0120544433594,360,"guapen");t.scaleX=.32715486817515643,t.scaleY=.32715486817515643;var e=this.add.rectangle(553.0120849609375,361,256,20);e.setOrigin(0,0),e.isFilled=!0,e.fillColor=14737632,new PreloadBarUpdaterScript(e);var n=this.add.rectangle(553.0120849609375,361,256,20);n.setOrigin(0,0),n.fillColor=14737632,n.isStroked=!0;var o=this.add.text(552.0120849609375,329,"",{});o.text="Loading...",o.setStyle({color:"#e0e0e0",fontFamily:"arial",fontSize:"20px"}),this.events.emit("scene-awake")}},{key:"loadConfig",value:function(){this.load.json("mainGameConfig","src/config/mainGame.json"+"?v=".concat(window.VersionClient))}},{key:"loadAssets",value:function(){this.load.image("lixiDo","assets/img/lixi_do.png"+"?v=".concat(window.VersionClient)),this.load.image("lixiXanh","assets/img/lixi_xanh.png"+"?v=".concat(window.VersionClient)),this.load.image("lixiDoOpen","assets/img/lixi_do_open.png"+"?v=".concat(window.VersionClient)),this.load.image("lixiXanhOpen","assets/img/lixi_xanh_open.png"+"?v=".concat(window.VersionClient)),this.load.image("palace","assets/img/palace.png"+"?v=".concat(window.VersionClient)),this.load.spritesheet("firework","assets/animations/firework.png"+"?v=".concat(window.VersionClient),{frameWidth:400,frameHeight:212,endFrame:40}),this.load.atlas("disconnectSprites","assets/atlas/disconnect.png"+"?v=".concat(window.VersionClient),"assets/atlas/disconnect.json"+"?v=".concat(window.VersionClient),{})}},{key:"preload",value:function(){var t=this;this.editorCreate(),this.editorPreload(),this.loadConfig(),this.loadAssets(),this.load.on(Phaser.Loader.Events.COMPLETE,(function(){return t.scene.start("MainGame")}))}}])&&e(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),s}();function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===i(r)?r:String(r)),o)}var r}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(s,Phaser.GameObjects.Container);var e,n,o,r,f=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(o);if(r){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e,n,o){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=f.call(this,t,e,n)).configs=o,r.init(),r}return e=s,(n=[{key:"init",value:function(){var t=this,e=this.scene.add.sprite(0,0,"disconnectSprites","Button_ThuLai");e.setScale(.5),this.add(e);var n=this.scene.add.text(0,0,this.configs.txtValue,{font:"20px Gilroy"});n.setOrigin(.5,.5),this.add(n),this.setSize(e.width,e.height),this.setInteractive(),this.on(Phaser.Input.Events.POINTER_DOWN,(function(){t.emit(t.configs.eventName)}))}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===s(r)?r:String(r)),o)}var r}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(a,Phaser.GameObjects.Sprite);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(o);if(r){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e,n,o,r){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,t,e,n,o)).configs=r,c.setInteractive(),c.setScale(.8),c.init(),c}return e=a,(n=[{key:"init",value:function(){var t=this;this.on("pointerup",(function(){t.configs.onClicked(),t.shake()}))}},{key:"shake",value:function(){var t=this;this.scene.tweens.add({targets:this,duration:150,x:window.GameConfig.GAME_WIDTH/2*window.GameConfig.RESIZE,y:window.GameConfig.GAME_HEIGHT/2*window.GameConfig.RESIZE,onComplete:function(){t.scene.tweens.add({targets:t,duration:180,repeat:5,yoyo:!0,angle:20,onComplete:function(){t.scene.tweens.add({targets:t,duration:200,y:(window.GameConfig.GAME_HEIGHT+600)*window.GameConfig.RESIZE})}})}})}},{key:"initPosition",value:function(t,e,n){this.x=t,this.y=e,this.positionX=t,this.positionY=e,this.initAngle=n,this.angle=n}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===h(r)?r:String(r)),o)}var r}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(a,Phaser.Scene);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(o);if(r){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,"MainGame")}return e=a,(n=[{key:"preload",value:function(){this.mainGameConfig=this.cache.json.get("mainGameConfig")}},{key:"addTxtWelcome",value:function(t){this.add.text(t.x,t.y,t.text,t.configs).setOrigin(.5,.5)}},{key:"addLixies",value:function(){var t=new d(this,window.GameConfig.GAME_WIDTH/2*window.GameConfig.RESIZE,window.GameConfig.GAME_HEIGHT/2*window.GameConfig.RESIZE,"lixiDo",{onClicked:this.onDinoClick});t.initPosition(window.GameConfig.GAME_WIDTH*window.GameConfig.RESIZE,(window.GameConfig.GAME_HEIGHT-200)*window.GameConfig.RESIZE,-20);var e=new d(this,window.GameConfig.GAME_WIDTH/2*window.GameConfig.RESIZE,window.GameConfig.GAME_HEIGHT/2*window.GameConfig.RESIZE,"lixiXanh",{onClicked:this.onDinoClick});e.initPosition(0,(window.GameConfig.GAME_HEIGHT-200)*window.GameConfig.RESIZE,20),this.add.existing(t),this.add.existing(e)}},{key:"onDinoClick",value:function(){}},{key:"editorCreate",value:function(){this.addLixies(),this.events.emit("scene-awake")}},{key:"addPalace",value:function(){this.palaceSprite=this.add.sprite(window.GameConfig.GAME_WIDTH/2*window.GameConfig.RESIZE,(window.GameConfig.GAME_HEIGHT/2-200)*window.GameConfig.RESIZE,"palace"),this.palaceSprite.setScale(.3)}},{key:"addFirework",value:function(){var t=this.anims.get("fireworkAnimation");t||(t={key:"fireworkAnimation",frames:this.anims.generateFrameNumbers("firework",{start:0,end:23,first:23}),frameRate:20,repeat:-1},this.anims.create(t)),this.add.sprite(window.GameConfig.GAME_WIDTH/2*window.GameConfig.RESIZE,(window.GameConfig.GAME_HEIGHT/2-300)*window.GameConfig.RESIZE,"firework").play("fireworkAnimation")}},{key:"addBtn",value:function(){var t=this,e=new f(this,window.GameConfig.GAME_WIDTH/2*window.GameConfig.RESIZE,100,{txtValue:"Restart",eventName:"restart"});e.on("restart",(function(){t.scene.restart()})),this.add.existing(e)}},{key:"create",value:function(){this.addPalace(),this.addFirework(),this.editorCreate(),this.textFPS=this.add.text(20,20,""),this.addBtn()}},{key:"update",value:function(){this.textFPS.setText("FPS: ".concat(parseInt(this.sys.game.loop.actualFps)))}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==g(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===g(r)?r:String(r)),o)}var r}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}window.addEventListener("load",(function(){game=new Phaser.Game({width:window.GameConfig.GAME_WIDTH,height:window.GameConfig.GAME_HEIGHT,type:Phaser.AUTO,backgroundColor:"#7A122C",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH}}),game.scene.add(window.GameConfig.SCENES.Preload,r),game.scene.add(window.GameConfig.SCENES.MainGame,v),game.scene.add(window.GameConfig.SCENES.Boot,P,!0)}));var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(a,Phaser.Scene);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(o);if(r){var n=O(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"preload",value:function(){this.load.pack("pack","assets/preload-asset-pack.json")}},{key:"create",value:function(){this.scene.start(window.GameConfig.SCENES.Preload)}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}()})();